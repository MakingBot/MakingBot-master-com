language: c

sudo: true

env:
  global:
    # Git and Github credentials for pushing documentation
    - GIT_NAME=poppy-bot
    - GIT_EMAIL=poppy-bot-ci@inria.fr
    # GH_TOKEN encrypted below > travis encrypt GH_TOKEN=XXXXXX --add
    # You have to overwrite your hown token to push the documentation to your repo.
    - secure: "aFIfwsoUphxk6Jb9jI0iW3zrp4tnadu9FaH3HyIF+6hDW6RcCyoFQxDfmm+0dUNSdtSZ9KSTHvn/L0PAepmk+rv8OLqHqU4tWa+y8YC2/5IWJqhdlbs7Ob/6l7S8T3Cg6vRuQc/8uhCV3fW+qPbc1sE3WvR9RTNu0NUEUGM3c04="

matrix:
  include:
    - os: linux
      language: c
      env: SUITE=tests

    - os: linux
      language: c
      env: SUITE=build

install:
  - . ./ci/install.sh

script:
 - . ./ci/script.sh

after_success:
 - . ./ci/after_success.sh

notifications:
  email:
    - secure: "XNZOOSgfG1Z460l9HWAcAMZYyQbfD9LpMJTiZYjySPW5gGmgtKzxxRYnsJlgMDeP6NUOn6VG7u6CFbuxPSQo4rZODntN21xKI+4Ketah8jYGkTK0qwf7fA3K9KGdYbVQTMsudHm5GjOjt6CuKi++Tq4ZqhB3cJxUzGPNYtiRmR0="
  on_failure: change
  on_success: change
